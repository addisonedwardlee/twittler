<!DOCTYPE html>
<html>
  <head>
    <title>Twittler</title>
    <link href="stylesheet.css" type="text/css" rel="stylesheet">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="moment.js"></script>
    <script src="underscore.js"></script>
  </head>
  <body>
    <header>
      <h1>Twittler</h1>
      <ul>
        <li><a class='filters' data-user='home' href="#">Home</a></li>
        <li><a class='filters' data-user='shawndrost' href="#">Shawn Drost</a></li>
        <li><a class='filters' data-user='sharksforcheap' href="#">Sharks For Cheap</a></li>
        <li><a class='filters' data-user='mracus' href="#">MRacus</a></li>
        <li><a class='filters' data-user='douglascalhoun' href="#">DouglasCalhoun</a></li>
      </ul>
    </header>
    <article>
    </article>
    <script>
      $(document).ready(function(){
        var $article = $('article');

        var showTweets = function(userName) {
        	$article.html('');
	        var index = streams.home.length - 1;
	        while(index >= 0){
	          var tweet = streams.home[index];
	          var $tweet = $('<div></div>');
	          var tweetTime = moment(tweet.created_at).fromNow();
	          $tweet.text('@' + tweet.user + ': ' + tweet.message + ": tweeted " + tweetTime);
	          $tweet.appendTo($article);
	          index -= 1;
	        };
    			setTimeout(showTweets, 5000);
    		};

		    showTweets();

        $('.filters').on('click', function() {
          alert("you clicked on " + this.getAttribute("data-user"))
        });

      });
    </script>
  </body>
</html>
